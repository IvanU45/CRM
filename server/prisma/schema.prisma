generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum VehicleStatus {
  ACTIVE
  INACTIVE
  MAINTENANCE
}

enum VehicleType {
  ФУРА
  РЕФРЕЖЕРАТОР
  КОНТЕЙНЕРОВОЗ
  БОРТОВОЙ
  Т10
  Т5
  ГАЗЕЛЬ
}

enum RateType {
  кг
  км
  кгкм
}

model User {
  id String @id @default(uuid())
  name String @unique
  email String @unique
  password String
  role String @default("user")
  createdAt DateTime @default(now())
}

model Company {
  id String @id @default(uuid())
  name String @unique
  description String
  address String
  area String
  phone String
  email String
  website String
  vehicles Vehicle[]
  tariffs Tariff[]
}

model Vehicle {
  id String @id @default(uuid())
  companyId String
  company Company @relation(fields: [companyId], references: [id])
  licensePlate String @unique
  model String
  vehicleType VehicleType
  capacity Float  // грузподъемность в тоннах
  volume Float    // объем кузова в м3
  vehicleStatus VehicleStatus @default(ACTIVE)
}

model Tariff {
  id String @id @default(uuid())
  companyId String
  company Company @relation(fields: [companyId], references: [id])
  name String
  rate Float  //ставка за км, кг, кмкг
  rateType RateType
  minPrice Float
}